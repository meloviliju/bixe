<!DOCTYPE html>
<html>

<head>
  <title>東島通商語コーパス検索システム「ビシェ」</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="tooltip.css">
  <script src="./to_kana.js"></script>
  <script src="./corpus.js"></script>
  <script src="./linkMap.js"></script>
  <script src="./search.js"></script>
  <script src="./get_hoverable_text.js"></script>
  <script src="./words.js"></script>
  <script src="./query_lemma.js"></script>
  <script src="./get_singly_highlighted_line.js"></script>
  <script src="./display_result.js"></script>
  <script src="./keyboard.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Sync when it is loaded
      if (document.getElementById("toggle_keyboard_balloon").checked) {
        document.getElementById("keyboard_balloon").style.display = "block";
      } else {
        document.getElementById("keyboard_balloon").style.display = "none";
      }

      // Sync when changed
      document.getElementById("toggle_keyboard_balloon").addEventListener('change', (event) => {
        console.log(event.target);
        if (event.target.checked) {
          document.getElementById("keyboard_balloon").style.display = "block";
        } else {
          document.getElementById("keyboard_balloon").style.display = "none";
        }
      })
    })
  </script>
</head>

<body>
  <template id="one-entry-template"><span class="tooltip-headword">PI</span><span class="tooltip-pronunciation" lang="ja">［ピ］</span><br><span class="tooltip-word-description" lang="ja"><span class="tooltip-part-of-speech">文接続詞</span><span class="tooltip-translation">～して、～したが、～すると</span></span></template>
  <template id="hoverable-container-template"><span class="main-text">pi</span><span class="tooltip-text bottom-tooltip-text"></span></template>

  <header>
    <div style="display: flex; justify-content: center; align-items: flex-start;">
      <a href="search.html" style="display: inline-flex; align-items: center; text-decoration: none; color: inherit;">
        <div style="font-size: 30px; transform: translate(6px,-2px) rotate(-135deg);">🔍</div>
        <div style="font-size: 50px; letter-spacing: 2px">ixe</div>
      </a>
    </div>
    <div>東島通商語コーパス検索システム「ビシェ」</div>
    <section id="search-section">
      <div class="search-container">
        <input type="text" id="search-bar" placeholder="正規表現で検索　^ で検索すると全ての例文がヒットします" value="" accesskey="f" autocapitalize="none" autocomplete="off" oninput="display_result()">
        <div class="toggle_button">
          <span style="letter-spacing: -2px;">㗊㗊㗊</span>
          <input id="toggle_keyboard_balloon" class="toggle_input" type='checkbox' checked="false" />
          <label for="toggle_keyboard_balloon" class="toggle_label" />
        </div>
      </div>
    </section>
    <div class="balloon" id="keyboard_balloon" style="position: absolute; right: 20px; display: none;">
      <table class="keyboard" style="font-family: 'xedixel';">
        <tr>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'p')">p</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'b')">b</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'm')">m</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'c')">c</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'x')">x</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'z')">z</td>
        </tr>
        <tr>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 't')">t</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'd')">d</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'n')">n</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'l')">l</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'k')">k</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'a')">a</td>
        </tr>
        <tr>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'e')">e</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'i')">i</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'u')">u</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'o')">o</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'j')">j</td>
          <td onclick="insertAtCursor(document.getElementById('search-bar'), 'w')">w</td>
        </tr>
      </table>
    </div>
  </header>
  <main>
    <section id="search-count" style="visibility: hidden;">0 個見つかりました。</section>
    <section id="results-section">
      東島通商語コーパス検索システム「ビシェ」へようこそ。
    </section>
  </main>
  <footer style="text-align: right; color: gray; padding-right: 20px;">
    <small>東島通商語コーパス検索システム「ビシェ」</small><br>
    <small><a href="https://github.com/sozysozbot/bixe/issues/new">問題点・改善提案を GitHub で報告</a></small><br>
    <small>作者: <a href="https://twitter.com/hsjoihs">@hsjoihs</a></small>
  </footer>
</body>

</html>